<div class="container">
  <div class="row">
    <div class="col-4">
      <div class="card">
        <div class="card-header">
          <h6>Basic Project Information</h6>
        </div>
        <div class="card-body">
          <form class="workpackage" [formGroup]="projectForm">
            <small class="text-muted">Posted by ( Employer ID ):</small><br>
            <p>{{employerId}}
              <button class="btn viewprofile">View Profile</button>
            </p>
            <hr>
            <small class="text-muted">Posted Date :</small><br>
            <p>{{todayDate}}</p>
            <hr>
            <label>Do you require reviewer?</label><br>
            <input type="checkbox" formControlName="yes_reviewer" (change)="isReviewer()" [value]="true">Yes
            <hr>
          </form>
        </div>
      </div>
    </div>
    <div class="col-8">
      <div class="card">
        <div class="card-header">
          <h6>Project Details </h6>
        </div>
        <div class="card-body">
          <form class="workpackage" [formGroup]="projectForm">
            <div class="row">
              <div class="col-md-6">
                <div class="form-group form-input">
                  <input type="text" formControlName="proj_name" id="proj_name" value="" required />
                  <label for="proj_desc" class="form-label">Project Name</label>
                  <div
                    *ngIf="projectForm.controls['proj_name'].invalid && (projectForm.controls['proj_name'].dirty || projectForm.controls['proj_name'].touched)"
                    class="alert">
                    <div *ngIf="projectForm.controls['proj_name'].errors.required">
                      Project Name is required.
                    </div>
                  </div>
                </div>
              </div>
              <div class="col-md-6">
                <div class="form-group form-input">
                  <select class="formStyle" formControlName="complexity" id="complexity">
                    <option disabled value="">Select Complexity</option>
                    <option id="option_txt" *ngFor="let complexity of complexityArr" [value]="complexity">
                      {{complexity}}</option>
                  </select>
                  <div
                    *ngIf="projectForm.controls['complexity'].invalid && (projectForm.controls['complexity'].dirty || projectForm.controls['complexity'].touched)"
                    class="alert">
                    <div *ngIf="projectForm.controls['complexity'].errors.required">
                      Complexity Level is required.
                    </div>
                  </div>
                </div>
              </div>
            </div>
            <div class="form-group form-input">
              <textarea type="text" formControlName="proj_desc" id="proj_desc" value="" required></textarea>
              <label for="proj_desc" class="form-label">Project Description</label>
              <div
                *ngIf="projectForm.controls['proj_desc'].invalid && (projectForm.controls['proj_desc'].dirty || projectForm.controls['proj_desc'].touched)"
                class="alert">
                <div *ngIf="projectForm.controls['proj_desc'].errors.required">
                  Project Description is required.
                </div>
              </div>
            </div>

            <div class="row">
              <div class="col-md-8">
                <div class="row">
                  <div class="col-md-12">
                    <div class="row">
                      <div class="col-4">
                        <div class="form-group form-input">
                          <input type="text" formControlName="durationYears" value="" required />
                          <label for="durationYears" class="form-label">Duration-Year</label>
                          <div
                            *ngIf="projectForm.controls['durationYears'].invalid && (projectForm.controls['durationYears'].dirty || projectForm.controls['durationYears'].touched)"
                            class="alert">
                            <div *ngIf="projectForm.controls['durationYears'].errors.required">
                              Enter no. of years.
                            </div>
                          </div>
                        </div>
                      </div>
                      <div class="col-4">
                        <div class="form-group form-input">
                          <input type="text" formControlName="durationMonths" value="" required />
                          <label for="duration" class="form-label">Duration-Months</label>
                          <div
                            *ngIf="projectForm.controls['durationMonths'].invalid && (projectForm.controls['durationMonths'].dirty || projectForm.controls['durationMonths'].touched)"
                            class="alert">
                            <div *ngIf="projectForm.controls['durationMonths'].errors.required">
                              Enter no. of months.
                            </div>
                          </div>
                        </div>
                      </div>
                      <div class="col-4">
                        <div class="form-group form-input">
                          <input type="text" formControlName="durationDays" value="" required />
                          <label for="durationDays" class="form-label">Duration-Days</label>
                          <div
                            *ngIf="projectForm.controls['durationDays'].invalid && (projectForm.controls['durationDays'].dirty || projectForm.controls['durationDays'].touched)"
                            class="alert">
                            <div *ngIf="projectForm.controls['durationDays'].errors.required">
                              Enter no. of days.
                            </div>
                          </div>
                        </div>
                      </div>
                    </div>
                  </div>
                  <!-- <div class="col-md-6">
                            <div class="form-group form-input">
                                <select formControlName="duration_option" id="duration_option">
                                    <option>Select</option>
                                    <option id="option_txt" *ngFor="let duration_option of durationArr" [value]="duration_option">{{duration_option}}</option>
                                  </select>
                                <div *ngIf="projectForm.controls['duration_option'].invalid && (projectForm.controls['duration_option'].dirty || projectForm.controls['duration_option'].touched)" class="alert">
                                    <div *ngIf="projectForm.controls['duration_option'].errors.required">
                                      Please select From-date, it's required.
                                    </div>
                                  </div>
                            </div> 
                        </div> -->
                </div>
              </div>
              <div class="col-md-4">
                <div class="form-group form-input">
                  <input type=text [owlDateTimeTrigger]="dt3" formControlName="proj_start_date" id="datePicker3 "
                    placeholder="Estimated Start Date" [owlDateTime]="dt3">
                  <owl-date-time [pickerType]="'calendar'" #dt3></owl-date-time>
                  <div
                    *ngIf="projectForm.controls['proj_start_date'].invalid && (projectForm.controls['proj_start_date'].dirty || projectForm.controls['proj_start_date'].touched)"
                    class="alert">
                    <div *ngIf="projectForm.controls['proj_start_date'].errors.required">
                      Please select Starting date, it's required.
                    </div>
                  </div>
                </div>
              </div>
            </div>

            <div class="row">
              <div class="col-6">
                <div class="row">
                  <div class="col-md-6">
                    <div class="form-group form-input">
                      <input type="text" formControlName="budgetAmt" id="budgetAmt" value="" required />
                      <label for="budgetAmt" class="form-label">Budget</label>
                    </div>
                  </div>
                  <div class="col-md-6">
                    <div class="form-group form-input">
                      <select formControlName="budgetCurrencyCode" id="currency">
                        <option disabled value="">Currency</option>
                        <option id="option_txt" *ngFor="let currency of currencyArr" [value]="currency">{{currency}}
                        </option>
                      </select>
                    </div>
                  </div>
                </div>
              </div>
              <div class="col-6">
                <div class="row">
                  <div class="col-md-6">
                    <div class="form-group form-input">
                      <input type="text" formControlName="estimatedCost" id="estimatedCost" value="" required />
                      <label for="estimatedCost" class="form-label">Estimated Cost</label>
                    </div>
                  </div>
                  <div class="col-6">
                    <button class="btn viewprofile1">Calculate</button>
                  </div>
                </div>
              </div>
            </div>
          </form>
        </div>
      </div>
    </div>
  </div>


  <div class="card">
    <div class="card-header">
      <!-- <h6>Basic Project Information <i class="fa fa-arrows-alt" id="fullscreen" aria-hidden="true"> </i></h6> -->
      <h6>Required-Skill Details</h6>
    </div>
    <div class="card-body ">
      <form class="workpackage" [formGroup]="skillForm">

        <div class="row">
          <div class="col-10">
            <div class="row table-responsive">

              <table class="table table-dark  table-bordered worktable">
                <thead>
                  <tr>
                    <th>Domain</th>
                    <th class="setwidth">Skill</th>
                    <th class="setwidth">Expertise</th>
                    <th class="setwidth">Part-time/Full-time</th>
                    <th>No. of team members</th>
                    <th>Country</th>
                    <th>Rate/hour</th>
                    <th>Avg. Rate/hour</th>
                    <th>Currency</th>
                    <th>Start Date </th>
                    <th>End Date</th>
                  </tr>
                </thead>

                <tbody formArrayName="skillDetails">
                  <tr *ngFor="let item of skillDetailsArr.controls; let i=index" [formGroupName]="i">
                    <td scope="row">
                      <select formControlName="domainId" id="domain" (change)="selectSkills($event.target.value)">
                        <option>Select</option>
                        <option id="domain_option" *ngFor="let allDomain of allDomainArr"
                          [value]="allDomain.skill_cat_id">{{allDomain.skill_cat_name}}</option>
                      </select>
                    </td>

                    <td scope="row">
                      <select formControlName="skill" id="skill">
                        <option>Select Skills</option>
                        <option id="option_skill" *ngFor="let allSkills of allSkillsArr" [value]="allSkills.skill_id">
                          {{allSkills.skill_name}}</option>
                      </select>
                    </td>
                    <td scope="row">
                      <select formControlName="skillLevel" id=" skillLevel">
                        <option>Select Level</option>
                        <option id="option_level" *ngFor="let skillLevel of skillLevelArr" [value]="skillLevel">
                          {{skillLevel}}</option>
                      </select>
                    </td>
                    <td scope="row">
                      <select formControlName="availability" id=" projectType">
                        <option>Select</option>
                        <option id="option_type" *ngFor="let  projectType of  projectTypeArr" [value]=" projectType">
                          {{projectType}}</option>
                      </select>
                    </td>
                    <td scope="row">
                      <input type="text" formControlName="members" placeholder="Members">
                    </td>
                    <td scope="row">
                      <select formControlName="country" id="country">
                        <option>Select Country</option>
                        <option id="option_type" *ngFor="let  country of  countries" [value]="country.name">
                          {{country.name}}</option>
                      </select>

                    </td>
                    <td scope="row">
                      <input formControlName="ratePerHour" type="text" placeholder="Rate/hour">
                    </td>
                    <td scope="row">
                      <input formControlName="availableAvgRatePerHour" type="text" placeholder="Avg Rate">
                    </td>
                    <td scope="row">
                      <select formControlName="currencyCode" id="currency">
                        <option>Currency</option>
                        <option id="option_txt" *ngFor="let currency of currencyArr" [value]="currency">{{currency}}
                        </option>
                      </select>

                    </td>
                    <td scope="row">
                      <input type=text [owlDateTimeTrigger]="dt1" formControlName="skill_start_date" id="datePicker1"
                        placeholder="End Date" [owlDateTime]="dt1">
                      <owl-date-time [pickerType]="'calendar'" #dt1></owl-date-time>
                      <!-- <input type="text" formControlName="skill_start_date" >  -->
                    </td>
                    <td scope="row">
                      <input type=text [owlDateTimeTrigger]="dt2" formControlName="skill_end_date" id="datePicker2"
                        placeholder="End Date" [owlDateTime]="dt2">
                      <owl-date-time [pickerType]="'calendar'" #dt2></owl-date-time>
                      <!-- <input type="text" formControlName="skill_end_date" >  -->

                    </td>
                  </tr>
                </tbody>


              </table>


            </div>
          </div>
          <div class="col-md-2">
            <button type="button" class="btn increment" (click)="addSkill()">+</button>
            <button type="button" class="btn increment" (click)="removeSkill(i)">-</button>
          </div>
        </div>
      </form>
    </div>
  </div>
  <button class="btn submit-button" (click)="onSubmit()">Submit</button>

</div>